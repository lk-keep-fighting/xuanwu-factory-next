# 项目管理使用指南

## 简介

项目管理模块是系统的核心功能，用于统一管理和组织您的应用服务。通过项目管理，您可以：

- 创建和管理多个项目，每个项目可包含多个服务
- 支持三种服务类型：Application（应用服务）、Database（数据库服务）、Image（镜像服务）
- 实时监控服务运行状态和资源使用情况
- 统一管理服务的网络配置、域名访问和端口映射
- 从 Kubernetes 集群导入现有服务

---

## 一、项目列表页

### 1.1 功能概览

项目列表页是系统的主入口，展示所有项目的概览信息。

**主要功能：**
- 查看所有项目及其基本信息
- 快速统计项目总数、服务总数
- 搜索和排序项目
- 创建、编辑、删除项目

### 1.2 页面布局

**顶部操作区：**
- **新建项目**：点击右上角"新建项目"按钮创建新项目
- **系统配置**：访问系统级配置（如 GitLab、Jenkins、Kubernetes 等）

**统计卡片：**
- **项目总数**：当前系统中的项目数量
- **服务总数**：所有项目下的服务实例总数

**搜索与排序：**
- **搜索框**：支持按项目名称或项目编号搜索（实时搜索，300ms 防抖）
- **排序选项**：
  - 按创建时间（最新优先/最早优先）
  - 按名称（A-Z / Z-A）

**项目列表表格：**

| 列名 | 说明 |
|------|------|
| 项目 | 项目名称和唯一标识符（identifier） |
| 描述 | 项目的详细描述信息 |
| 服务数量 | 该项目下的服务总数 |
| 创建时间 | 项目创建的具体时间和相对时间 |
| 最近更新 | 项目最后更新的时间 |
| 常规操作 | 进入详情、编辑、删除等操作 |

### 1.3 创建项目

**步骤：**

1. 点击右上角"新建项目"按钮
2. 填写项目信息：
   - **项目名称**（必填）：项目的显示名称，支持中英文
   - **项目编号**（必填）：用于系统内部标识和域名访问的唯一标识
     - 仅支持小写字母、数字和中划线（-）
     - 不能以中划线开头或结尾
     - 长度限制：1-63 个字符
     - 示例：`xuanwu-app`、`user-service`
   - **项目描述**（可选）：项目的详细说明
3. 点击"创建"按钮

**注意事项：**
- 项目编号创建后可以修改，但会影响通过子域名访问的地址
- 系统会自动创建对应的 Kubernetes Namespace（命名空间）

### 1.4 编辑项目

**步骤：**

1. 在项目列表中，点击项目行右侧的"更多操作"按钮（三个点图标）
2. 选择"编辑"
3. 修改项目信息
4. 点击"保存"

**可修改内容：**
- 项目名称
- 项目编号（谨慎修改，会影响域名访问）
- 项目描述

### 1.5 删除项目

**步骤：**

1. 在项目列表中，点击项目行右侧的"更多操作"按钮
2. 选择"删除"
3. 在确认对话框中确认删除

**警告：**
- 删除项目会同时删除该项目下的所有服务
- 此操作不可恢复，请谨慎操作

---

## 二、项目详情页

### 2.1 功能概览

项目详情页展示单个项目的完整信息，包括项目下的所有服务及其运行状态。

**主要功能：**
- 查看项目基本信息和服务统计
- 管理项目下的所有服务（创建、编辑、删除、重启）
- 从 Kubernetes 导入现有服务
- 实时查看服务运行状态
- 通过域名快速访问服务

### 2.2 页面布局

**页面头部：**
- **返回按钮**：返回项目列表
- **项目信息**：
  - 项目名称和标识符
  - 项目描述
- **操作按钮**：
  - 创建服务（Application / Database / Image）
  - 从 K8s 导入
  - 项目操作（编辑项目、删除项目）

**服务统计卡片：**
- 总服务数
- Application 服务数
- Database 服务数
- Image 服务数

**筛选与搜索区：**
- **搜索框**：按服务名称搜索
- **类型筛选**：筛选特定类型的服务（全部/Application/Database/Image）
- **排序选项**：
  - 按名称（升序/降序）
  - 按更新时间（最近更新/最早更新）
- **刷新状态**：手动刷新服务的 Kubernetes 运行状态

**服务列表表格：**

| 列名 | 说明 |
|------|------|
| 服务 | 服务名称、类型、配置信息（仓库/镜像/数据库类型）、域名访问链接 |
| 状态 | 服务运行状态（运行中/待启动/已停止/错误/构建中） |
| 副本 | 服务实例副本数（仅 Application 和 Image 类型） |
| 网络/端口 | 服务的端口配置信息 |
| 最近更新 | 服务最后更新时间 |
| 操作 | 重启、删除等操作 |

### 2.3 创建服务

#### 2.3.1 创建 Application 服务

Application 服务用于部署基于 Git 仓库的应用程序。

**步骤：**

1. 点击"创建服务"按钮，选择"Application"
2. 填写基本信息：
   - **服务名称**：服务的显示名称
   - **Git 仓库地址**：应用代码的 Git 仓库 URL
   - **分支名称**：要部署的分支（如 `main`、`develop`）
   - **端口号**：应用监听的端口
   - **副本数**：服务实例数量（默认 1）
3. 配置构建选项（可选）：
   - Dockerfile 路径
   - 构建参数
4. 配置网络（可选）：
   - 域名配置
   - 端口映射
5. 点击"创建"

**适用场景：**
- Web 应用
- API 服务
- 微服务应用

#### 2.3.2 创建 Database 服务

Database 服务用于部署数据库实例。

**步骤：**

1. 点击"创建服务"按钮，选择"Database"
2. 填写基本信息：
   - **服务名称**：数据库服务名称
   - **数据库类型**：选择数据库类型（MySQL、PostgreSQL、MongoDB 等）
   - **版本**：数据库版本号
   - **内部端口**：容器内数据库监听端口
   - **外部端口**（可选）：对外暴露的端口
3. 配置数据库参数（可选）：
   - 数据库名称
   - 用户名和密码
   - 存储配置
4. 点击"创建"

**适用场景：**
- 关系型数据库（MySQL、PostgreSQL）
- NoSQL 数据库（MongoDB、Redis）
- 缓存服务

#### 2.3.3 创建 Image 服务

Image 服务用于直接部署 Docker 镜像。

**步骤：**

1. 点击"创建服务"按钮，选择"Image"
2. 填写基本信息：
   - **服务名称**：服务显示名称
   - **镜像名称**：Docker 镜像名称（如 `nginx`、`redis`）
   - **镜像标签**：镜像版本标签（如 `latest`、`1.21`）
   - **副本数**：服务实例数量
3. 配置网络（可选）：
   - 端口映射
   - 域名配置
4. 点击"创建"

**适用场景：**
- 第三方服务（Nginx、Redis、RabbitMQ 等）
- 已构建好的镜像
- 无需源码构建的服务

### 2.4 从 Kubernetes 导入服务

如果您的 Kubernetes 集群中已有运行的服务，可以将其导入到系统中进行管理。

**步骤：**

1. 点击"从 K8s 导入"按钮
2. 系统会自动扫描当前项目命名空间下的 Kubernetes 资源
3. 选择要导入的服务
4. 确认导入

**支持导入的资源类型：**
- Deployment
- StatefulSet
- Service
- Ingress

### 2.5 服务操作

#### 2.5.1 查看服务详情

点击服务列表中的任意服务行，进入服务详情页，可以查看：
- 服务的完整配置信息
- 容器运行日志
- 资源使用情况（CPU、内存）
- 部署历史
- 网络配置

#### 2.5.2 重启服务

**步骤：**

1. 点击服务行右侧的"更多操作"按钮（三个点图标）
2. 选择"重启"
3. 系统会重新部署该服务的所有 Pod

**适用场景：**
- 服务出现异常需要重启
- 配置更新后需要重启生效

#### 2.5.3 删除服务

**步骤：**

1. 点击服务行右侧的"更多操作"按钮
2. 选择"删除"
3. 在确认对话框中确认删除

**警告：**
- 删除服务会同时删除 Kubernetes 中的相关资源
- 此操作不可恢复，请谨慎操作

### 2.6 服务状态说明

| 状态 | 颜色 | 说明 |
|------|------|------|
| 运行中 | 绿色 | 服务正常运行 |
| 待启动 | 黄色 | 服务正在启动中 |
| 已停止 | 灰色 | 服务已停止 |
| 错误 | 红色 | 服务运行出错 |
| 构建中 | 蓝色 | 服务正在构建镜像 |

### 2.7 域名访问

对于 Application 和 Image 类型的服务，如果配置了域名，会在服务列表中显示域名访问链接。

**访问方式：**
- 点击服务信息下方的域名链接按钮
- 在新标签页中打开服务的 Web 界面

**域名格式：**
- 通常为：`http://<服务域名>`
- 如果配置了 HTTPS，则为：`https://<服务域名>`

---

## 三、常见问题

### 3.1 项目编号有什么作用？

项目编号（identifier）是项目的唯一标识符，主要用于：
- Kubernetes 命名空间名称
- 子域名访问地址的一部分
- 系统内部资源隔离

### 3.2 如何修改服务配置？

目前需要进入服务详情页进行配置修改。在服务列表中点击服务名称，进入详情页后可以编辑服务的各项配置。

### 3.3 服务状态一直显示"待启动"怎么办？

可能的原因：
1. 镜像拉取失败：检查镜像名称和标签是否正确
2. 资源不足：检查 Kubernetes 集群资源是否充足
3. 配置错误：检查服务配置（端口、环境变量等）是否正确

**解决方法：**
- 点击"刷新状态"按钮更新状态
- 进入服务详情页查看日志和事件
- 尝试重启服务

### 3.4 如何删除项目但保留服务？

目前系统不支持此操作。删除项目会同时删除其下的所有服务。如需保留服务，建议：
1. 先将服务迁移到其他项目
2. 或在 Kubernetes 中手动备份相关资源

### 3.5 服务副本数有什么作用？

副本数决定了服务运行的实例数量：
- **副本数 = 1**：单实例运行，适合开发测试环境
- **副本数 > 1**：多实例运行，提供高可用和负载均衡，适合生产环境

**注意：** Database 类型的服务通常不支持多副本（需要特殊配置）。

---

## 四、最佳实践

### 4.1 项目组织建议

- **按业务模块划分项目**：将相关的服务组织在同一个项目下
- **使用清晰的命名规范**：项目编号使用小写字母和中划线，如 `user-service`、`order-system`
- **添加详细的项目描述**：方便团队成员理解项目用途

### 4.2 服务管理建议

- **合理设置副本数**：开发环境使用 1 个副本，生产环境根据负载设置多个副本
- **配置健康检查**：确保服务异常时能够自动重启
- **使用域名访问**：为对外服务配置域名，便于访问和管理
- **定期查看日志**：及时发现和解决问题

### 4.3 安全建议

- **不要在项目描述中包含敏感信息**：如密码、密钥等
- **数据库服务不要暴露外部端口**：除非确实需要外部访问
- **定期更新服务镜像**：修复安全漏洞

---

## 五、快速操作指南

### 5.1 创建一个完整的项目

1. 在项目列表页点击"新建项目"
2. 填写项目名称（如"用户管理系统"）和编号（如"user-system"）
3. 创建 Database 服务（如 MySQL）
4. 创建 Application 服务（后端 API）
5. 创建 Application 服务（前端应用）
6. 配置服务间的网络连接
7. 为前端应用配置域名访问

### 5.2 快速部署一个 Nginx 服务

1. 进入项目详情页
2. 点击"创建服务" → "Image"
3. 填写：
   - 服务名称：`nginx`
   - 镜像名称：`nginx`
   - 镜像标签：`latest`
   - 端口：`80`
4. 配置域名（可选）
5. 点击"创建"

### 5.3 从 Git 仓库部署应用

1. 进入项目详情页
2. 点击"创建服务" → "Application"
3. 填写：
   - 服务名称：应用名称
   - Git 仓库地址：`https://github.com/your-org/your-repo.git`
   - 分支名称：`main`
   - 端口：应用监听端口（如 `3000`）
4. 配置 Dockerfile 路径（如果不在根目录）
5. 点击"创建"
6. 系统会自动触发构建和部署

---

## 六、调试工具配置

### 6.1 功能概述

调试工具功能允许您在服务容器中注入常用的命令行工具，用于诊断和调试容器内的问题。系统支持同时启用多个调试工具集，无需在不同工具之间切换。

**支持的调试工具：**
- **BusyBox**：轻量级工具集（~2MB），包含基础 Unix 命令
- **Netshoot**：网络诊断工具集（~350MB），包含专业网络工具
- **Ubuntu**：完整 Linux 环境（~80MB），包含丰富的系统工具
- **自定义镜像**：使用您自己的调试工具镜像

**主要特性：**
- 支持同时启用多个工具集
- 每个工具安装到独立路径，避免冲突
- 提供快速配置预设，一键启用常用组合
- 自动生成使用说明和 PATH 配置示例

### 6.2 访问调试工具配置

**步骤：**

1. 进入服务详情页
2. 点击"配置"标签页
3. 滚动到"调试工具"部分

### 6.3 启用调试工具

#### 6.3.1 使用快速配置预设

快速配置预设可以一键启用常用的工具组合：

**可用预设：**

| 预设名称 | 包含工具 | 适用场景 |
|---------|---------|---------|
| 基础调试 | BusyBox | 轻量级调试，基础命令行操作 |
| 网络诊断 | BusyBox + Netshoot | 网络问题排查，连接测试 |
| 完整工具 | BusyBox + Netshoot + Ubuntu | 复杂问题诊断，需要完整 Linux 环境 |

**使用步骤：**

1. 在调试工具部分，点击"快速配置"按钮
2. 从下拉菜单中选择一个预设
3. 系统会自动勾选对应的工具
4. 点击"保存"按钮应用配置

**提示：** 选择预设后，您仍然可以手动调整工具选择。

#### 6.3.2 手动选择工具

如果预设不满足需求，可以手动选择工具组合：

**步骤：**

1. 在调试工具列表中，勾选需要的工具
2. （可选）修改工具的挂载路径
3. 如果选择了"自定义镜像"，需要填写镜像地址
4. 点击"保存"按钮

**工具详细信息：**

**BusyBox**
- **镜像大小**：~2MB
- **默认路径**：`/debug-tools/busybox`
- **包含工具**：ls, cat, grep, wget, curl, vi, top, ps, netstat 等基础命令
- **适用场景**：
  - 查看文件和目录
  - 基础文本处理
  - 简单的网络测试
  - 进程查看

**Netshoot**
- **镜像大小**：~350MB
- **默认路径**：`/debug-tools/netshoot`
- **包含工具**：tcpdump, nmap, iperf, netcat, dig, nslookup, traceroute, curl, wget 等
- **适用场景**：
  - 网络连接问题诊断
  - DNS 解析测试
  - 端口扫描和连通性测试
  - 网络性能测试
  - 抓包分析

**Ubuntu**
- **镜像大小**：~80MB
- **默认路径**：`/debug-tools/ubuntu`
- **包含工具**：完整的 Ubuntu 工具集，包括 apt、systemctl、编辑器等
- **适用场景**：
  - 需要安装额外软件包
  - 复杂的系统诊断
  - 文件系统操作
  - 需要完整 Linux 环境的场景

**自定义镜像**
- **镜像大小**：取决于您的镜像
- **默认路径**：`/debug-tools/custom`
- **要求**：
  - 镜像必须包含复制工具的逻辑
  - 建议在镜像中提供 `/copy-tools.sh` 脚本
- **适用场景**：
  - 需要特定的调试工具
  - 公司内部的调试工具镜像
  - 特殊的诊断需求

### 6.4 配置选项

#### 6.4.1 修改挂载路径

每个工具都有默认的挂载路径，您可以根据需要修改：

**步骤：**

1. 勾选要配置的工具
2. 在工具卡片中找到"挂载路径"输入框
3. 输入新的路径（必须以 `/` 开头）
4. 点击"保存"

**路径要求：**
- 必须以 `/` 开头
- 只能包含字母、数字、`-`、`_`、`/`、`.`
- 不同工具的路径不能重复

**示例：**
```
/debug-tools/busybox
/tools/network
/my-debug/custom-tools
```

#### 6.4.2 配置自定义镜像

如果选择"自定义镜像"，需要提供镜像地址：

**步骤：**

1. 勾选"自定义镜像"工具
2. 在"镜像地址"输入框中填写完整的镜像地址
3. （可选）修改挂载路径
4. 点击"保存"

**镜像地址格式：**
```
# 公共镜像
busybox:latest
nginx:1.21

# 私有仓库镜像
myregistry.com/debug-tools:v1.0
harbor.example.com/tools/debug:latest

# 带摘要的镜像
nginx@sha256:abc123...
```

**自定义镜像要求：**

您的自定义镜像应该包含一个脚本来复制工具到挂载路径。推荐的实现方式：

```dockerfile
# Dockerfile 示例
FROM ubuntu:22.04

# 安装您需要的工具
RUN apt-get update && apt-get install -y \
    curl \
    vim \
    jq \
    && rm -rf /var/lib/apt/lists/*

# 创建复制脚本
RUN echo '#!/bin/bash\ncp -r /usr/bin/* $1/' > /copy-tools.sh && \
    chmod +x /copy-tools.sh

CMD ["/copy-tools.sh"]
```

### 6.5 使用调试工具

启用调试工具后，需要重新部署服务才能生效。部署完成后，您可以通过以下方式使用工具：

#### 6.5.1 进入容器终端

**步骤：**

1. 在服务详情页，点击"终端"标签页
2. 或者使用 kubectl 命令：
   ```bash
   kubectl exec -it <pod-name> -n <namespace> -- /bin/sh
   ```

#### 6.5.2 配置 PATH 环境变量

进入容器后，需要将调试工具路径添加到 PATH 环境变量：

**添加所有工具到 PATH：**
```bash
export PATH=/debug-tools/busybox:/debug-tools/netshoot:/debug-tools/ubuntu:$PATH
```

**只添加特定工具：**
```bash
# 只添加 BusyBox
export PATH=/debug-tools/busybox:$PATH

# 只添加 Netshoot
export PATH=/debug-tools/netshoot:$PATH
```

**永久配置（可选）：**

如果希望每次进入容器都自动配置 PATH，可以在服务的环境变量中添加：

```bash
PATH=/debug-tools/busybox:/debug-tools/netshoot:/debug-tools/ubuntu:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
```

#### 6.5.3 使用工具示例

**基础文件操作（BusyBox）：**
```bash
# 查看文件
ls -la /app
cat /app/config.json

# 查看进程
ps aux
top

# 网络测试
ping google.com
wget http://example.com
```

**网络诊断（Netshoot）：**
```bash
# DNS 查询
dig example.com
nslookup database-service

# 端口测试
nc -zv database-service 3306
telnet redis-service 6379

# 网络抓包
tcpdump -i eth0 port 80

# 路由追踪
traceroute google.com
```

**系统诊断（Ubuntu）：**
```bash
# 查看系统信息
uname -a
df -h
free -m

# 安装额外工具
apt-get update
apt-get install -y strace

# 使用编辑器
vim /app/config.yaml
```

### 6.6 快速配置预设详解

#### 6.6.1 基础调试预设

**包含工具：** BusyBox

**适用场景：**
- 快速查看文件和日志
- 基础的进程和网络检查
- 轻量级调试，不占用太多资源
- 容器资源受限的环境

**典型使用案例：**
```bash
# 查看应用日志
cat /var/log/app.log | grep ERROR

# 检查进程状态
ps aux | grep java

# 测试网络连接
ping database-service
wget -O- http://api-service/health
```

#### 6.6.2 网络诊断预设

**包含工具：** BusyBox + Netshoot

**适用场景：**
- 服务间通信问题
- DNS 解析问题
- 端口连通性测试
- 网络性能问题

**典型使用案例：**
```bash
# 检查 DNS 解析
dig database-service.default.svc.cluster.local

# 测试数据库连接
nc -zv mysql-service 3306

# 检查 API 响应
curl -v http://api-service/api/health

# 抓包分析
tcpdump -i eth0 -w /tmp/capture.pcap
```

#### 6.6.3 完整工具预设

**包含工具：** BusyBox + Netshoot + Ubuntu

**适用场景：**
- 复杂问题的深度诊断
- 需要安装额外工具
- 系统级问题排查
- 开发和测试环境

**典型使用案例：**
```bash
# 安装并使用 strace 追踪系统调用
apt-get update && apt-get install -y strace
strace -p <pid>

# 使用 vim 编辑配置文件
vim /app/config.yaml

# 检查磁盘使用情况
df -h
du -sh /app/*

# 综合网络诊断
nmap -p 1-65535 target-service
```

### 6.7 常见问题与故障排除

#### 6.7.1 调试工具未生效

**问题：** 保存配置后，进入容器发现调试工具不可用。

**原因：**
- 配置保存后未重新部署服务
- Init Container 执行失败

**解决方法：**

1. 检查服务是否已重新部署：
   ```bash
   kubectl get pods -n <namespace>
   ```
   查看 Pod 的创建时间是否在配置保存之后

2. 如果未重新部署，手动重启服务：
   - 在服务详情页点击"重启"按钮
   - 或使用命令：`kubectl rollout restart deployment/<service-name> -n <namespace>`

3. 检查 Init Container 状态：
   ```bash
   kubectl describe pod <pod-name> -n <namespace>
   ```
   查看 Init Containers 部分是否有错误

#### 6.7.2 自定义镜像拉取失败

**问题：** 使用自定义镜像时，Pod 状态显示 `ImagePullBackOff`。

**原因：**
- 镜像地址错误
- 镜像不存在
- 没有权限访问私有镜像仓库

**解决方法：**

1. 验证镜像地址是否正确：
   ```bash
   docker pull <your-image>
   ```

2. 如果是私有镜像，确保 Kubernetes 配置了镜像拉取凭据：
   ```bash
   kubectl create secret docker-registry regcred \
     --docker-server=<registry-url> \
     --docker-username=<username> \
     --docker-password=<password> \
     -n <namespace>
   ```

3. 在服务配置中添加 imagePullSecrets（需要联系管理员）

#### 6.7.3 挂载路径冲突

**问题：** 保存配置时提示"挂载路径不能重复"。

**原因：**
- 多个工具使用了相同的挂载路径

**解决方法：**

1. 检查所有已选工具的挂载路径
2. 确保每个工具的路径都是唯一的
3. 使用默认路径可以避免此问题

#### 6.7.4 工具命令找不到

**问题：** 进入容器后，执行调试工具命令提示 `command not found`。

**原因：**
- 未配置 PATH 环境变量
- 工具路径配置错误

**解决方法：**

1. 手动添加工具路径到 PATH：
   ```bash
   export PATH=/debug-tools/busybox:/debug-tools/netshoot:$PATH
   ```

2. 或者使用完整路径执行命令：
   ```bash
   /debug-tools/busybox/ls -la
   /debug-tools/netshoot/curl http://example.com
   ```

3. 检查工具是否已正确安装：
   ```bash
   ls -la /debug-tools/
   ```

#### 6.7.5 Init Container 执行失败

**问题：** Pod 状态显示 `Init:Error` 或 `Init:CrashLoopBackOff`。

**原因：**
- Init Container 命令执行错误
- 自定义镜像的复制脚本有问题
- 挂载路径权限问题

**解决方法：**

1. 查看 Init Container 日志：
   ```bash
   kubectl logs <pod-name> -n <namespace> -c debug-tools-<toolset>
   ```

2. 检查 Pod 事件：
   ```bash
   kubectl describe pod <pod-name> -n <namespace>
   ```

3. 如果是自定义镜像，验证镜像的复制脚本是否正确

4. 检查挂载路径的权限设置

#### 6.7.6 容器启动变慢

**问题：** 启用调试工具后，容器启动时间明显增加。

**原因：**
- Init Container 需要时间拉取镜像和复制文件
- 选择了过多或过大的工具集

**解决方法：**

1. 只启用必要的工具，避免选择所有工具
2. 使用"基础调试"预设而不是"完整工具"预设
3. 在集群节点上预拉取常用镜像：
   ```bash
   docker pull busybox:latest
   docker pull nicolaka/netshoot:latest
   docker pull ubuntu:22.04
   ```

4. 考虑使用 DaemonSet 预拉取镜像（需要联系管理员）

#### 6.7.7 工具版本不符合预期

**问题：** 工具的版本与预期不一致。

**原因：**
- 系统使用的是默认镜像标签（通常是 `latest`）
- 镜像已更新到新版本

**解决方法：**

1. 如果需要特定版本，使用自定义镜像功能
2. 指定具体的镜像标签，例如：
   - `busybox:1.35`
   - `nicolaka/netshoot:v0.9`
   - `ubuntu:22.04`

3. 联系管理员配置系统默认使用的镜像版本

### 6.8 最佳实践

#### 6.8.1 选择合适的工具组合

**开发环境：**
- 推荐使用"完整工具"预设
- 可以自由安装额外工具
- 不需要过多考虑资源占用

**测试环境：**
- 推荐使用"网络诊断"预设
- 平衡功能和资源占用
- 满足大部分调试需求

**生产环境：**
- 推荐使用"基础调试"预设或不启用
- 最小化资源占用和安全风险
- 仅在必要时临时启用

#### 6.8.2 安全建议

1. **生产环境谨慎使用**：调试工具可能带来安全风险
2. **及时禁用**：问题解决后，禁用调试工具并重新部署
3. **使用受信任的镜像**：自定义镜像应来自可信来源
4. **限制访问权限**：确保只有授权人员可以访问容器终端
5. **审计日志**：记录调试工具的使用情况

#### 6.8.3 性能优化

1. **按需启用**：只在需要时启用调试工具
2. **选择轻量级工具**：优先使用 BusyBox
3. **预拉取镜像**：在集群中预先拉取常用镜像
4. **使用镜像缓存**：配置镜像缓存加速拉取

#### 6.8.4 团队协作

1. **统一工具选择**：团队内统一使用相同的调试工具组合
2. **文档化常用命令**：记录常用的诊断命令和流程
3. **分享最佳实践**：团队内分享调试经验和技巧
4. **定期审查**：定期审查和更新调试工具配置

---

## 七、技术支持

如遇到问题或需要帮助，请：
1. 查看服务详情页的日志和事件信息
2. 检查系统配置是否正确（GitLab、Jenkins、Kubernetes 连接）
3. 参考本文档的"常见问题与故障排除"部分
4. 联系系统管理员或技术支持团队

---

**文档版本：** v1.1  
**最后更新：** 2024-12-03
